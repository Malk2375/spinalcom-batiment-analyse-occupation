(function(){"use strict";var t={321:function(t,e,a){var i=a(471),o=a(173),n=function(){var t=this,e=t._self._c;return e("router-view")},r=[],s={},l=s,c=a(656),d=(0,c.A)(l,n,r,!1,null,null,null),u=d.exports,p=a(353),m=a(335);i["default"].use(p.Ay);var g=new p.Ay.Store({state:{buildings:[],roomDetails:{}},mutations:{SET_BUILDINGS(t,e){t.buildings=e},SET_ROOM_DETAILS(t,{roomId:e,details:a}){i["default"].set(t.roomDetails,e,a)}},actions:{async fetchBuildings({commit:t}){try{const e=await m.A.get("https://api-developers.spinalcom.com/api/v1/geographicContext/space");t("SET_BUILDINGS",e.data)}catch(e){}},async fetchRoomDetails({commit:t},e){try{const a=await m.A.get(`https://api-developers.spinalcom.com/api/v1/room/${e}/control_endpoint_list`),i=a.data[0].endpoints.find((t=>"Occupation"===t.type)),o=!!i&&i.currentValue;t("SET_ROOM_DETAILS",{roomId:e,details:{occupation:o}})}catch(a){}}},getters:{getRoomDetails:t=>e=>t.roomDetails[e]||{}}}),h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper",class:{"nav-open":t.$sidebar.showSidebar}},[e("side-bar",{attrs:{"sidebar-item-color":t.sidebarBackground,"sidebar-background-image":t.sidebarBackgroundImage}},[e("mobile-menu",{attrs:{slot:"content"},slot:"content"}),e("sidebar-link",{attrs:{to:"/dashboard"}},[e("md-icon",[t._v("dashboard")]),e("p",[t._v("Analyse d'occupation")])],1)],1),e("div",{staticClass:"main-panel"},[e("top-navbar"),e("fixed-plugin",{attrs:{color:t.sidebarBackground,image:t.sidebarBackgroundImage},on:{"update:color":function(e){t.sidebarBackground=e},"update:image":function(e){t.sidebarBackgroundImage=e}}}),e("dashboard-content"),t.$route.meta.hideFooter?t._e():e("content-footer")],1)],1)},f=[],v=function(){var t=this,e=t._self._c;return e("md-toolbar",{staticClass:"md-transparent",attrs:{"md-elevation":"0"}},[e("div",{staticClass:"md-toolbar-row"},[e("div",{staticClass:"md-toolbar-section-start"},[e("h3",{staticClass:"md-title"},[t._v(t._s(t.$route.name))])]),e("div",{staticClass:"md-toolbar-section-end"},[e("md-button",{staticClass:"md-just-icon md-simple md-toolbar-toggle",class:{toggled:t.$sidebar.showSidebar},on:{click:t.toggleSidebar}},[e("span",{staticClass:"icon-bar"}),e("span",{staticClass:"icon-bar"}),e("span",{staticClass:"icon-bar"})])],1)])])},b=[],C={data(){return{}},methods:{toggleSidebar(){this.$sidebar.displaySidebar(!this.$sidebar.showSidebar)}}},k=C,_=(0,c.A)(k,v,b,!1,null,null,null),A=_.exports,y=function(){var t=this,e=t._self._c;return e("footer",{staticClass:"footer"},[e("div",{staticClass:"container"},[t._m(0),e("div",{staticClass:"copyright text-center"},[t._v(" © "+t._s((new Date).getFullYear())+" "),e("a",{attrs:{href:"https://portfolio-malk.vercel.app/",target:"_blank"}},[t._v(" Malk ")]),t._v(", Developpé pour SpinalCom "),e("i",{staticClass:"fa fa-heart heart"})])])])},I=[function(){var t=this,e=t._self._c;return e("nav",[e("ul",[e("li",[e("a",{attrs:{href:"https://www.linkedin.com/in/mohamed-abdelmalek-dorbani/",target:"_blank"}},[t._v(" LinkedIn ")])]),e("li",[e("a",{attrs:{href:"https://portfolio-malk.vercel.app/",target:"_blank"}},[t._v(" Portfolio ")])]),e("li",[e("a",{attrs:{href:"https://github.com/Malk2375",target:"_blank"}},[t._v(" Github ")])])])])}],x={},D=x,w=(0,c.A)(D,y,I,!1,null,null,null),E=w.exports,S=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("router-view")],1)},O=[],R={},B=R,M=(0,c.A)(B,S,O,!1,null,null,null),j=M.exports,J=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"nav nav-mobile-menu"})},Q=[],P={data(){return{}}},F=P,K=(0,c.A)(F,J,Q,!1,null,null,null),G=K.exports,L=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeDropDown,expression:"closeDropDown"}],staticClass:"fixed-plugin"},[e("div",{staticClass:"dropdown show-dropdown",class:{show:t.isOpen}},[e("a",{attrs:{"data-toggle":"dropdown"}},[e("i",{staticClass:"fa fa-cog fa-2x",on:{click:t.toggleDropDown}})]),e("ul",{staticClass:"dropdown-menu",class:{show:t.isOpen}},[e("li",{staticClass:"header-title"},[t._v("Filtre de couleurs")]),e("li",{staticClass:"adjustments-line text-center"},t._l(t.sidebarColors,(function(a){return e("span",{key:a.color,staticClass:"badge filter",class:[`badge-${a.color}`,{active:a.active}],attrs:{"data-color":a.color},on:{click:function(e){return t.changeSidebarBackground(a)}}})})),0),e("li",{staticClass:"header-title"},[t._v("Images")]),t._l(t.sidebarImages,(function(a){return e("li",{key:a.image,class:{active:a.active},on:{click:function(e){return t.changeSidebarImage(a)}}},[e("a",{staticClass:"img-holder switch-trigger"},[e("img",{attrs:{src:a.image,alt:""}})])])}))],2)])])},T=[],N=a(738);i["default"].use(N.A,{useCache:!0});var Y={components:{},data(){return{documentationLink:"https://creativetimofficial.github.io/vue-material-dashboard/documentation",shareUrl:"https://www.creative-tim.com/product/vue-material-dashboard",buyUrl:"",freeUrl:"https://www.creative-tim.com/product/vue-material-dashboard",isOpen:!1,sidebarColors:[{color:"purple",active:!1},{color:"blue",active:!1},{color:"green",active:!0},{color:"orange",active:!1},{color:"red",active:!1}],sidebarImages:[{image:a(685),active:!1},{image:a(482),active:!0},{image:a(934),active:!1},{image:a(865),active:!1}]}},methods:{toggleDropDown(){this.isOpen=!this.isOpen},closeDropDown(){this.isOpen=!1},toggleList(t,e){t.forEach((t=>{t.active=!1})),e.active=!0},updateValue(t,e){this.$emit(`update:${t}`,e)},changeSidebarBackground(t){this.$emit("update:color",t.color),this.toggleList(this.sidebarColors,t)},changeSidebarImage(t){this.$emit("update:image",t.image),this.toggleList(this.sidebarImages,t)}}},V=Y,U=(0,c.A)(V,L,T,!1,null,null,null),X=U.exports,z={components:{TopNavbar:A,DashboardContent:j,ContentFooter:E,MobileMenu:G,FixedPlugin:X},data(){return{sidebarBackground:"green",sidebarBackgroundImage:a(685)}}},H=z,W=(0,c.A)(H,h,f,!1,null,null,null),q=W.exports,Z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"building-container"},[0===t.buildings.length?e("div",[t._v("Aucun bâtiment disponible")]):t._e(),t._l(t.buildings,(function(a){return e("div",{key:a.dynamicId},[e("h1",{staticClass:"building-title"},[t._v("Bâtiment : "+t._s(a.name))]),e("FloorView",{attrs:{floors:a.children||[]}})],1)}))],2)},$=[],tt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-container"},[e("div",{staticClass:"left-pane"},[0===t.floors.length?e("div",[t._v("Aucun étage disponible")]):t._e(),t._l(t.floors,(function(a,i){return e("div",{key:a.dynamicId},[e("stats-card",{attrs:{"data-background-color":t.selectedFloorIndex===i?"green":""},on:{click:function(e){return t.selectFloor(i)}}},[e("template",{slot:"header"},[e("h2",[t._v(" Étage n° "+t._s(i)+" : "),e("span",{staticClass:"floor-name"},[t._v(t._s(a.name))])])]),e("template",{slot:"content"},[e("h3",{staticClass:"category"},[t._v(" Pourcentage d'occupation : "+t._s(t.getFloorOccupationPercentage(a.children).toFixed(0))+"% ")]),e("p",[t._v("Nombre total de pièces : "+t._s(t.getTotalRooms(a.children)))])])],2)],1)}))],2),e("div",{staticClass:"right-pane"},[t.selectedFloor?e("RoomView",{attrs:{rooms:t.selectedFloor.children||[]}}):t._e()],1)])},et=[],at=function(){var t=this,e=t._self._c;return e("div",{staticClass:"room-container"},[0===t.rooms.length?e("div",[t._v("Aucune pièce disponible")]):t._e(),t._l(t.rooms,(function(a,i){return e("div",{key:a.dynamicId,staticClass:"room-card"},[e("div",{staticClass:"PieceHeader"},[e("h4",[t._v("Pièce n° "+t._s(i+1)+" : "+t._s(a.name))]),e("h4",[t._v(t._s(a.dynamicId))])]),e("p",{staticClass:"occupation"},[t._v(" Occupation : "),e("span",{class:t.getOccupationClass(a.dynamicId)},[t._v(t._s(t.getRoomOccupation(a.dynamicId)))])])])}))],2)},it=[],ot={name:"RoomView",props:{rooms:{type:Array,required:!0,default:()=>[]}},computed:{...(0,p.L8)(["getRoomDetails"])},methods:{...(0,p.i0)(["fetchRoomDetails"]),getRoomOccupation(t){const e=this.getRoomDetails(t);return e&&void 0!==e.occupation?e.occupation?"Occupée":"Non Occupée":"INDÉFINIE"},getOccupationClass(t){const e=this.getRoomDetails(t);return e&&void 0!==e.occupation?e.occupation?"true-occupation":"false-occupation":"undefined-occupation"}},watch:{rooms:{immediate:!0,handler(t){t.forEach((t=>this.fetchRoomDetails(t.dynamicId)))}}}},nt=ot,rt=(0,c.A)(nt,at,it,!1,null,null,null),st=rt.exports,lt=function(){var t=this,e=t._self._c;return e("div",{class:["stats-card",t.dataBackgroundColor],on:{click:t.handleClick}},[e("div",{staticClass:"header"},[t._t("header")],2),e("div",{staticClass:"content"},[t._t("content")],2)])},ct=[],dt={name:"StatsCard",props:{dataBackgroundColor:{type:String,default:""}},methods:{handleClick(){this.$emit("click")}}},ut=dt,pt=(0,c.A)(ut,lt,ct,!1,null,null,null),mt=pt.exports,gt={name:"FloorView",components:{RoomView:st,StatsCard:mt},props:{floors:{type:Array,required:!0,default:()=>[]}},data(){return{selectedFloorIndex:0}},computed:{...(0,p.L8)(["getRoomDetails"]),selectedFloor(){return this.floors[this.selectedFloorIndex]}},methods:{...(0,p.i0)(["fetchRoomDetails"]),getFloorOccupationPercentage(t){let e=0,a=0;return t.forEach((t=>{const i=this.getRoomDetails(t.dynamicId);i&&(void 0!==i.occupation?(!0===i.occupation&&e++,a++):a++)})),a>0?100*e/a:0},getTotalRooms(t){return t.length},selectFloor(t){this.selectedFloorIndex=t}},watch:{floors:{immediate:!0,handler(t){t.forEach((t=>{t.children&&t.children.forEach((t=>this.fetchRoomDetails(t.dynamicId)))}))}}}},ht=gt,ft=(0,c.A)(ht,tt,et,!1,null,null,null),vt=ft.exports,bt={name:"BuildingView",components:{FloorView:vt},computed:{...(0,p.aH)({buildings:t=>t.buildings.children||[]})},created(){this.fetchBuildings()},methods:{...(0,p.i0)(["fetchBuildings"])}},Ct=bt,kt=(0,c.A)(Ct,Z,$,!1,null,null,null),_t=kt.exports;const At=[{path:"/",component:q,redirect:"/dashboard",children:[{path:"dashboard",name:"Analyse d'occupation",component:_t}]}];var yt=At;const It={install(t){}};var xt=It,Dt=a(499);const wt={install(t){t.directive("click-outside",Dt.u$)}};var Et=wt,St=function(){var t=this,e=t._self._c;return e("div",{staticClass:"sidebar",style:t.sidebarStyle,attrs:{"data-color":t.sidebarItemColor,"data-image":t.sidebarBackgroundImage}},[e("div",{staticClass:"logo"},[e("a",{staticClass:"simple-text logo-mini",attrs:{href:"#"}},[e("div",{staticClass:"logo-img"},[e("img",{attrs:{src:t.imgLogo,alt:""}})])]),e("a",{staticClass:"simple-text logo-normal",attrs:{href:"https://www.creative-tim.com/product/vue-material-dashboard",target:"_blank"}},[t._v(" "+t._s(t.title)+" ")])]),e("div",{staticClass:"sidebar-wrapper"},[t._t("content"),e("md-list",{staticClass:"nav"},[t._t("default",(function(){return t._l(t.sidebarLinks,(function(t,a){return e("sidebar-link",{key:t.name+a,attrs:{to:t.path,link:t}})}))}))],2)],2)])},Ot=[],Rt=function(){var t=this,e=t._self._c;return e("li",{staticClass:"md-list-item"},[e("router-link",t._b({staticClass:"md-list-item-router md-list-item-container md-button-clean",on:{click:t.hideSidebar}},"router-link",t.$attrs,!1),[e("div",{staticClass:"md-list-item-content md-ripple"},[t._t("default",(function(){return[e("md-icon",[t._v(t._s(t.link.icon))]),e("p",[t._v(t._s(t.link.name))])]}))],2)])],1)},Bt=[],Mt={inject:{autoClose:{default:!0}},props:{link:{type:[String,Object],default:()=>({name:"",path:"",icon:""})},tag:{type:String,default:"router-link"}},methods:{hideSidebar(){this.autoClose&&this.$sidebar&&!0===this.$sidebar.showSidebar&&this.$sidebar.displaySidebar(!1)}}},jt=Mt,Jt=(0,c.A)(jt,Rt,Bt,!1,null,null,null),Qt=Jt.exports,Pt={components:{SidebarLink:Qt},props:{title:{type:String,default:"SpinalCom"},sidebarBackgroundImage:{type:String,default:a(23)},imgLogo:{type:String,default:a(548)},sidebarItemColor:{type:String,default:"green",validator:t=>{let e=["","purple","blue","green","orange","red"];return-1!==e.indexOf(t)}},sidebarLinks:{type:Array,default:()=>[]},autoClose:{type:Boolean,default:!0}},provide(){return{autoClose:this.autoClose}},computed:{sidebarStyle(){return{backgroundImage:`url(${this.sidebarBackgroundImage})`}}}},Ft=Pt,Kt=(0,c.A)(Ft,St,Ot,!1,null,null,null),Gt=Kt.exports;const Lt={showSidebar:!1,displaySidebar(t){this.showSidebar=t}},Tt={install(t){t.mixin({data(){return{sidebarStore:Lt}}}),Object.defineProperty(t.prototype,"$sidebar",{get(){return this.$root.sidebarStore}}),t.component("side-bar",Gt),t.component("sidebar-link",Qt)}};var Nt=Tt,Yt=a(444),Vt=a.n(Yt),Ut=(a(542),{install(t){t.use(Nt),t.use(Vt())}}),Xt=a(592),zt=a.n(Xt);const Ht=new o.Ay({routes:yt,linkExactActiveClass:"nav-item active"});i["default"].prototype.$Chartist=zt(),i["default"].use(o.Ay),i["default"].use(Ut),i["default"].use(xt),i["default"].use(Et),new i["default"]({el:"#app",store:g,render:t=>t(u),router:Ht,data:{Chartist:zt()}})},685:function(t,e,a){t.exports=a.p+"img/Batiment1.292dcf01.jpg"},482:function(t,e,a){t.exports=a.p+"img/Batiment2.0ec84a10.jpg"},934:function(t,e,a){t.exports=a.p+"img/Escalator.1e8cb4fc.jpg"},548:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQAgMAAAD90d5fAAAADFBMVEX////zlCI+Ny4dHRuodCA5AAAGcElEQVR42u2cP27jWAzGCad0kaP4CD6FlMKFD7CFjhBdQth2mi12psgRpEu4FxYQsJhm3RiQduynxeTPRHris0npey4WVJkA/ln8SD4+kgn1d3jIIAYxiEEMYhCDGMQgBjGIQQxiEIMYxCAGMYhBDGIQgxjEIAYxiEEMYhCDGMQg/3OI+zNJv0WGuCJJkuS3uJBXRpK8xIR0b4wkjQhxyceTxYM0vyBpNMjniyhehWa/iOJVaJ5rvT1lHEg3ZCS7OJDDCJJGgbhk/JQxIJ0H2ceAFB4kjQDxrSW1Fy2xljQeab5v/Xye4JCptZIEDukYyDMa0jCQPRrCMGSiKCAXDpKAIQ0LecZCChayh0IcyxCJQoscWCgKLZREJAotlESUvmihJKIzmGZJkn79Q3Om0JwMnJZD65U4iC9DpxCFZuSUdOwIexikm/hTJw9H0kdJ6rsbDFJMfbYQK0/6KPn4zJNYeVJLkk58YQeCNFxuFytPaknKaXxiII6tTE9S5UkbinvmpxkEcuKPD2nMkzY7cj9+gkAK/vQ4CbM9KXXPWKlKAKQLXEic8Jwnne4pb8YMADmEDvRG5l6k0z3j7Qh4Exe8IzqcJpdwTVqIkhepnGvPZ2dEMDbhkvQESyuH8Gl+EZXDpHGuNFCOAVK9u1b2HiSFKmmcK+OTAeKM765VvR2oWjldq98dqO5qrpY+heDuQAoPzvjf7hCQ4uqpccJU9dcL64vgZkryMHkK/BpxnbtV8v6OgHQ3Srh/EJCTtmm+CNJHhDT6yY8eclB2/xdB9jEhhXqEtQBS3gMy/Nm/aAjnXPVLHMgoc+XrOJChBzuiEgpxDKQleowCGYZJTbSKAhmGSU5E29gQIqJ1DMjzSBIiigw5vkI2ESADn61Iaa85ECKlvWZA3DtkExPSvkPW+LTyPAzF12cVE5K/Q+TxqId8SKLIX+JDK/MlUdhLDNlP34RwOxIHP9X/0kTsxGLIk5dVNE4sriDTnrEXvBbuGXtt0ZCSsdcjCtJNovHTXg8oyGV6yOdKUeR3xl3P2GsLgjAlpDazKO7xJWOvBxTkMK1Xap0oit7Kru+nSXILgnBtf50omn7XpGCRiqJpD2acE4MgPdP3cCpRNN3UtGeceAOCNIwoteZMkUC4+WurUV7Vq2dFAUFcck2UEgNhh+JHhfK6cdNAlLMi5nWDsx2TWR5AkAsnSiWvI5XDTE4UEORTeU4U1HJMc02ULQjSXRNlA4I4bnR2FPuwdkdiPxVljYI0TMPeiQNFvbcyLYxWKAj7dwGVNFDUu0RMtYraJRqMZqcH1xYF4RbTzmgINzYVN1nEvR5uAAyHcPPyXBjyM/Ygy3gQbsWuQkO4xaFKmLzkkNM0RdZwyGWa7PEQZn0kAmS6PhIBcpmc8njh3+2VRYY0/vwsBqTzR1t5BMhPe43mphQD0ngjzSiQy3hPwkWB9MVopHmOA+lG08aW4Fn41UCjUfYxDmT81PDjl3mqe0Dye0AIXXcxj/w+twDS3gMiv/4KID9uOBfkfvLXDeeC3LRy3uaOkJBAHJwJeDFtA59yJOAV+xiwR03AZkEV8NEc2fYIfIwjYAPHBazeErAV1Qb850jAplod+JwK2R7MA2YnYKPTBbz0TMCWbRsIatUsiG6GIi9uTcAOdx74pFwz+afbocgZXjeZJdk5vg5K8rgc0gaMUhNwEuQC8ubQmRb/hZXLBULv8kRRrpWQIHVNP6zW7WLIgtEXRblVcgty5j5tIAlkwOw4u7QEHpXnjCiVcp3oJqRiRCHlDs5NCDPq+zxLhNtEojPe+9K1di9KVK145s8Jvrcy+dYDa8E2cCo/qQ+sBdslOvpfOyf8VtTZs9cgEnH7Xf5Oz8BaKxjEqxkGeQu4DucdtV+IIiz2DU+osv97wACuKI4MNHwP5LLlyGdHzxoJqQOQDRLSBiAlEuJ4BnJfOCjKGgupl0kig7TLJBFue3CMhx4LYUV5REM4UbZoCCdKj4a4JQ4sbnRWCxxYDDkucGD5IsYCB5b3hfMF1hJD6gXWEkPOC6wlb6Pn860lh4z8a1XGgbi5kaiaOtRzZddA2tkvopmf5HNfRANp576IahJUz3It7X9RfDPYSx8T8kb51seF9P33r3P+/Nf+sbRBDGIQgxjEIAYxiEEMYhCDGMQgBjGIQQxiEIMYxCAGMYhBDGIQgxjEIAYxiEG85z8q/y1Nl90TFgAAAABJRU5ErkJggg=="},865:function(t,e,a){t.exports=a.p+"img/main_numerique_page_equipe-1.114ae65c.png"},23:function(t,e,a){t.exports=a.p+"img/sidebar-2.261b92e1.jpg"}},e={};function a(i){var o=e[i];if(void 0!==o)return o.exports;var n=e[i]={exports:{}};return t[i].call(n.exports,n,n.exports,a),n.exports}a.m=t,function(){var t=[];a.O=function(e,i,o,n){if(!i){var r=1/0;for(d=0;d<t.length;d++){i=t[d][0],o=t[d][1],n=t[d][2];for(var s=!0,l=0;l<i.length;l++)(!1&n||r>=n)&&Object.keys(a.O).every((function(t){return a.O[t](i[l])}))?i.splice(l--,1):(s=!1,n<r&&(r=n));if(s){t.splice(d--,1);var c=o();void 0!==c&&(e=c)}}return e}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[i,o,n]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var i in e)a.o(e,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,i){var o,n,r=i[0],s=i[1],l=i[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(o in s)a.o(s,o)&&(a.m[o]=s[o]);if(l)var d=l(a)}for(e&&e(i);c<r.length;c++)n=r[c],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(d)},i=self["webpackChunkvue_material_dashboard"]=self["webpackChunkvue_material_dashboard"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=a.O(void 0,[504],(function(){return a(321)}));i=a.O(i)})();
//# sourceMappingURL=app.a6371c23.js.map